# –®–ø–∞—Ä–≥–∞–ª–∫–∞: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–∏—Å—É –≤ Docker

## 1. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å —Ö–æ—Å—Ç–∞ (–ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã)**

–ï—Å–ª–∏ —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω –≤ Docker, –∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –Ω–µ–º—É —Å –≤–∞—à–µ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ **–ø—Ä–æ–±—Ä–æ—Å–∏—Ç—å –ø–æ—Ä—Ç—ã** –≤ `docker-compose.yml`.

### –ü—Ä–∏–º–µ—Ä:
```yaml
services:
  kafka:
    image: bitnami/kafka:latest
    ports:
      - "9092:9092"  # –ü—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ–º –ø–æ—Ä—Ç 9092 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–∞ –ø–æ—Ä—Ç 9092 —Ö–æ—Å—Ç–∞
```

- **–ö–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è:**  
  –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `localhost:9092` –≤ –≤–∞—à–µ–º –∫–æ–¥–µ –∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

---

## 2. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏–∑ –¥—Ä—É–≥–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**

–ï—Å–ª–∏ –≤–∞—à –∫–æ–¥ –∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–∞–∫–∂–µ –∑–∞–ø—É—â–µ–Ω—ã –≤ Docker, –∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–∏—Å—É –∏–∑ –¥—Ä—É–≥–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–∏–º—è —Å–µ—Ä–≤–∏—Å–∞** (—É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤ `docker-compose.yml`) –∏ –ø–æ—Ä—Ç —Å–µ—Ä–≤–∏—Å–∞.

### –ü—Ä–∏–º–µ—Ä:
```yaml
services:
  kafka:
    image: bitnami/kafka:latest
    ports:
      - "9092:9092"  # –ü—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–∞ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ —Å —Ö–æ—Å—Ç–∞
    networks:
      - my-network

  app:
    image: my-python-app
    environment:
      - KAFKA_BOOTSTRAP_SERVERS=kafka:9092  # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Kafka –ø–æ –∏–º–µ–Ω–∏ —Å–µ—Ä–≤–∏—Å–∞
    networks:
      - my-network
    depends_on:
      - kafka

networks:
  my-network:
    driver: bridge
```

- **–ö–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è:**  
  –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `kafka:9092` –≤ –≤–∞—à–µ–º –∫–æ–¥–µ –∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

---

## 3. **–ö–æ–≥–¥–∞ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞—Ç—å –ø–æ—Ä—Ç—ã –Ω–µ –Ω—É–∂–Ω–æ**

–ï—Å–ª–∏ –≤–∞—à –∫–æ–¥ –∏ —Å–µ—Ä–≤–∏—Å –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –æ–¥–Ω–æ–π Docker-—Å–µ—Ç–∏, –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞—Ç—å –ø–æ—Ä—Ç—ã –Ω–∞ —Ö–æ—Å—Ç **–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**. –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–º—è —Å–µ—Ä–≤–∏—Å–∞ –∏ –ø–æ—Ä—Ç.

### –ü—Ä–∏–º–µ—Ä:
```yaml
services:
  kafka:
    image: bitnami/kafka:latest
    networks:
      - my-network

  app:
    image: my-python-app
    environment:
      - KAFKA_BOOTSTRAP_SERVERS=kafka:9092  # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Kafka –ø–æ –∏–º–µ–Ω–∏ —Å–µ—Ä–≤–∏—Å–∞
    networks:
      - my-network
    depends_on:
      - kafka

networks:
  my-network:
    driver: bridge
```

- **–ö–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è:**  
  –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `kafka:9092` –≤ –≤–∞—à–µ–º –∫–æ–¥–µ –∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

---

## 4. **–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞**

- **–î–ª—è –¥–æ—Å—Ç—É–ø–∞ —Å —Ö–æ—Å—Ç–∞:**  
  –ü—Ä–æ–±—Ä–∞—Å—ã–≤–∞–π—Ç–µ –ø–æ—Ä—Ç—ã —Å –ø–æ–º–æ—â—å—é `ports` –≤ `docker-compose.yml` –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `localhost:<–ø–æ—Ä—Ç>`.

- **–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∏–∑ –¥—Ä—É–≥–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:**  
  –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–º—è —Å–µ—Ä–≤–∏—Å–∞ –∏ –ø–æ—Ä—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, `kafka:9092`). –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–±–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏.

- **–°–µ—Ç–∏ Docker:**  
  –ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏, –æ–Ω–∏ –º–æ–≥—É—Ç –æ–±—â–∞—Ç—å—Å—è –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º –ø–æ –∏–º–µ–Ω–∞–º —Å–µ—Ä–≤–∏—Å–æ–≤.

---

## 5. **–ü—Ä–∏–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**

- **–° —Ö–æ—Å—Ç–∞:**  
  ```bash
  nc -zv localhost 9092
  ```

- **–ò–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:**  
  ```bash
  docker exec -it <container_id> nc -zv kafka 9092
  ```

---

–¢–µ–ø–µ—Ä—å –≤—ã –∑–Ω–∞–µ—Ç–µ, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ —Å–µ—Ä–≤–∏—Å–∞–º –≤ Docker! üê≥
–ï—Å–ª–∏ –≤—Å–µ –∂–µ –µ—Å—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∏–∑–≤–Ω–µ (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É—è –¥–æ–∫–µ—Ä), —Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ 
1) –ø—Ä–æ–±—Ä–æ—Å–∏—Ç—å –ø–æ—Ä—Ç—ã –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤—ã—à–µ
2) –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ kafka –≤ docker compose —Ñ–∞–π–ª–µ:
- KAFKA_CFG_ADVERTISED_LISTENERS=PLAINTEXT://kafka1:9092 –Ω–∞
- KAFKA_CFG_ADVERTISED_LISTENERS=PLAINTEXT://localhost:9092
–∫–∞–∂–µ—Ç—Å—è –∫–∞—Ñ–∫–∞ –Ω–µ —Ö–æ—á–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è —Å —Ç–∞–∫–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏, —è –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –∫–æ–º–∞–Ω–¥–æ–π - 
```bash
  docker run -d --name=kafka -p 9092:9092 apache/kafka
```

–≠—Ç–æ –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è
```bash
mkdir -p ~/kafka-data
sudo chown -R 1001:1001 ~/kafka-data
```